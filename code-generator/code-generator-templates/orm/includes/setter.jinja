{#  ################################################################################################
 #
 # This file is part of the Alpine Toolkit software.
 # Copyright (C) 2017 Fabrice Salvaire
 # Contact: http://www.fabrice-salvaire.fr
 # SPDX-License-Identifier: GPL-3.0-only
 #
 ###############################################################################################  #}

{% macro setter_impl(class_name, member) %}
void
{{class_name}}::set_{{member.name}}({{member.setter_type}} value)
{
  if (m_{{member.name}} != value) {
    m_{{member.name}} = value;

    bool is_changed = is_modified();
    set_bit(Schema::Fields::{{member.name|upper}});

    emit {{member.name}}Changed();
    if (not is_changed)
      emit changed();
  }
}
{% endmacro %}
