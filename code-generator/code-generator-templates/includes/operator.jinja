{# -*- mode: fundamental -*- #}

{#  ################################################################################################
 #
 # This file is part of the Alpine Toolkit software.
 # Copyright (C) 2017 Fabrice Salvaire
 # Contact: http://www.fabrice-salvaire.fr
 # SPDX-License-Identifier: GPL-3.0-only
 #
 ###############################################################################################  #}

{% macro equal_operator_decl(class_name) %}
bool operator==(const {{class_name}} & other) const;
{% endmacro %}

{% macro equal_operator_impl(class_name, members, base_classes) %}
bool
{{class_name}}::operator==(const {{class_name}} & other) const
{
{% for base_class in base_classes %}
  if (not {{base_class}}::operator==(other))
    return false;
{% endfor %}
{% for member in members %}
  if (m_{{member.name}} != other.m_{{member.name}})
    return false;
{% endfor %}

  return true;
}
{% endmacro %}
